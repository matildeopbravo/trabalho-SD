package sd.client;import sd.exceptions.CredenciaisInvalidasException;import sd.server.Reply;import java.io.DataInputStream;import java.io.DataOutputStream;import java.io.IOException;import java.net.Socket;public class Client {    private ClientUser user ;    private DataOutputStream out;    private DataInputStream in;    public Client (ClientUser user, String address, int port) throws IOException {            this.user = user;            Socket socket = new Socket(address, port);            out = new DataOutputStream(socket.getOutputStream());            in = new DataInputStream(socket.getInputStream());    }    public void registar() throws IOException, CredenciaisInvalidasException {        Operation.Autenticar.serialize(out);        user.serialize(out);        if (!isSucessful(in))            throw new CredenciaisInvalidasException();    }    public void autenticar() throws IOException, CredenciaisInvalidasException {        Operation.Registar.serialize(out);        user.serialize(out);        if (!isSucessful(in))            throw new CredenciaisInvalidasException();    }    private boolean isSucessful(DataInputStream in) throws IOException {        Reply r = Reply.values()[in.readInt()];        return r.equals(Reply.Success);    }}